# 🧾TIL

## 날짜: 2025-06-16 😶💛

## 새로 배운 내용

먼저 `staleTime`은 쿼리에서 데이터가 신선하다고 간주될 때까지의 시간이며, 얼마 동안 네트워크 요청 없이 캐시된 데이터를 사용할지 정하는 시간입니다. 기본 값은 0입니다.

반면 `gcTime`은 해당 쿼리의 컴포넌트가 언마운트 된 후에도 메모리 상에서 유지되는 시간을 말합니다. 기본 값은 5분입니다.

만약 staleTime이 지나지 않았다면 데이터를 refetch하지 않고 캐시된 데이터를 사용하게 됩니다. staleTime이 지나고 refetch가 트리거 된다면 새로운 데이터를 fetch합니다.

gcTime이 지났다면 캐시에서 제거되고, 지나지 않았다면 캐시 상에 남아 있어 보여줄 수 있으며

staleTime이 지나 오래된 상태가 되었을 때 다시 refetch가 트리거 되기 전, 캐시 데이터를 임시적으로 보여주게 됩니다.

\*\* refetch 트리거 : `refetch()` , `refetchOnMount` `refetchOnWindowFocus`

## 오늘의 회고

오늘은 **매일메일**에서 받아본 주제인 `staleTime`과 `gcTime`에 대해서 정리해보았다.

이전에 정리했던 내용이지만 다시 정리해보니 복습하는 기분이 들어 이해도가 높아졌을 것이라고 생각한다.

프로젝트 내에서도 staleTime과 gcTime은 조금 더 신경 써서 설정하고 있다.

단 v2에서 개발하고 있는 커뮤니티의 경우 최신의 데이터가 중요하기 때문에 staleTime은 0으로 해두고 있고, 일부 refetch 트리거도 true로 해둔 상태이다.
