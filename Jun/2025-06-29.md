# 🧾TIL

## 날짜: 2025-06-29 🤐

## 새로 배운 내용

### 3-5. 뮤텍스

뮤텍스란 공유 자원을 사용할 때 발생하는 동기화 문제를 방지하기 위해 이미 선점 중인 자원에 접근하지 못하도록 하는 방식입니다. 구체적으로, 하나의 스레드가 공유자원에 접근하면서 락을 걸고, 공유자원을 사용한 후 락을 해제해 다른 스레드가 접근할 수 있도록 합니다.

- 뮤텍스와 세마포어의 차이?
  먼저 세마포어는 접근할 수 있는 스레드의 수를 제한하는 방식입니다. 예를 들어 0-1 세마포어 같은 경우는 일반 뮤텍스와 동일하게 적용되고, 카운팅 세마포어 같은 경우, 정해진 갯수의 스레드만이 공유자원을 사용하도록 관리 합니다.
- critical section?
  여러 스레드/프로세스가 공유 자원에 접근하면서 문제가 발생할 수 있는 코드 영역입니다.

### 3-6. 가상메모리

RAM에 모든 프로그램을 적재하지 않아도 가상의 공간에 메모리를 사용할 수 있도록 하는 기술입니다.

가상 메모리는 크게 페이징 방식과 세그먼테이션 방식으로 나뉘어져 있습니다.

**페이징** 방식은 가상 메모리를 크기가 동일한 페이지 단위로 나누는 것이고, **내부 단편화의 문제**가 있습니다.

**세그먼테이션 방식**은 가상메모리를 크기가 다른 세그먼테이션으로 나누는 것이고, **외부 단편화의 문제**가 있습니다.

- 내부 단편화와 외부 단편화에 대해서 더 설명해주세요.
  내부 단편화는 일정한 크기의 페이지로 나누다 보니, 불필요한 공간이 더 남게 되는 현상이고,
  외부 단편화는 가변적 크기의 세그먼테이션으로 나누지만 결과적으로 가상 메모리내 연속적 메모리 공간이 줄어들게 되는 현상입니다.
- 요구 페이징 (Demand Paging)이 무엇인가요?
  요구 페이징이란 초기 부팅 시 모든 페이지들을 로드하는 게 아니라, 필요한 페이지만 로드한 후 추후에 필요할 때 디스크에서 메모리로 로드하는 것입니다.
- **MMU**가 무엇인가요?
  MMU는 메모리 관리 장치로, 가상 주소를 물리 주소로 변환시켜주는 하드웨어입니다.
- **TLB**가 무엇인가요?
  TLB는 가상 주소와 물리 주소를 빠르게 변환하기 위한 주소 변환 캐시입니다.
- **가상 주소의 물리 주소 변환 과정**에 대해 설명해주세요. (+ 페이지 폴트)
  CPU가 MMU에 가상주소의 물리 주소 변환을 요청합니다. mmu는 tlb에서 해당 가상 주소가 캐싱되어 있는지 확인하고, 있다면 해당 물리 주소를 사용합니다. 반면 없다면 페이지 테이블 내에서 해당 가상 페이지의 유효 비트를 확인합니다. 유효 비트가 1인 경우에는 RAM에 로드되어 있다는 뜻이며 가상 주소를 물리 주소로 변환합니다. 유효비트가 0인 경우, 페이지 폴트가 발생합니다. 페이지 폴트가 발생한 경우에는 CPU에서 os로 제어권이 넘어가고, OS가 디스크로부터 필요한 페이지를 찾아 RAM에 로드합니다. 이후 페이지 테이블의 유효 비트를 갱신합니다.
  다시 CPU로 제어권이 넘어오면 해당 명령을 재시도합니다.
- **페이지 테이블**
  페이지 테이블은 가상 주소에서 물리 주소로 변환하기 위해 사용하는 구조로, 가상 주소의 페이지 번호를 기반으로 페이지 프레임 번호를 확인합니다.
- **페이지 교체 알고리즘**
  페이지 교체 알고리즘으로는 LRU, LFU, NRU, FIFO가 있습니다.
  먼저 LRU는 가장 오랫동안 참조되지 않은 페이지를 교체합니다.
  LFU는 가장 적게 사용된 페이지를 교체합니다.
  NUR은 최근에 사용되지 않은 페이지를 교체합니다.
  FIFO는 가장 먼저 들어온 페이지를 교체합니다.

### 3-7. 페이징

페이징은 **가상 메모리 공간을 일정한 크기의 페이지**로 나누고, **물리 메모리 공간 내 페이지 프레임**으로 매핑하는 것입니다.

페이지 프레임들은 물리 메모리 내에 비연속적으로 할당됩니다. 외부 단편화 문제가 없지만, 내부 단편화는 발생합니다.

### 3-8. CPU 스케줄링

CPU 스케줄링은 태스크를 효율적으로 처리하기 위해 OS가 작업을 처리할 순서를 결정하는 것입니다.

스케줄링에는 선점 스케줄링과 비선점 스케줄링이 있는데,

선점 스케줄링은 하던 작업을 멈추고 다른 작업을 할 수 있도록 스케줄링 하는 것이고,

비선점 스케줄링은 하던 작업을 다 끝내고 다른 작업을 할 수 있도록 스케줄링 하는 것입니다.

- 콘보이 효과
- 기아 상태
- 어떤 알고리즘이 있는지?

### 3-9. 스택영역과 힙 영역의 차이

스택 영역은 함수 호출시 지역 변수, 매개 변수 등을 저장하는 영역입니다. 함수가 종료되면 자동으로 제거됩니다.

힙 영역은 동적 할당이 되는 객체나, 배열 등을 저장하는 공간입니다. 할당 해제를 해주어야 메모리 누수가 발생하지 않습니다.

## 오늘의 회고

5/29은 곧 있을 기술 면접을 대비하며 cs를 복습했다.
