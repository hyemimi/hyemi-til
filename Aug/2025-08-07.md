# 🧾TIL

## 날짜: 2025-08-07 🐣

## 새로 배운 내용

# 일단 무조건 메모이제이션 vs 선별적 메모이제이션

- **렌더링 비용**

React에서 이전 파이버 트리와 작업중인 파이버 트리를 비교하며 변경사항을 계산하는, 렌더를 수행하는 과정은 비용이 많이 든다. 현재 트리에서 작업중인 트리를 또 생성해서, 물론 파이버 노드를 재사용하기는 하지만, 이후 작업 중인 트리를 순회하면서 컴포넌트를 실행해 현재 트리의 파이버 노드와 비교하며 플래그를 설정해둔다. 이후 커밋 과정에서 실제 DOM에 반영한다. 이러한 과정들은 많은 비용이 발생한다!

- **memo 비용**

memo를 적용해서 발생하는 성능적 이슈는 메모리 비용과 재계산 여부를 검증하기 위한 props의 얕은 비교라고 할 수 있겠다.

하지만 props가 자주 바뀌는 경우는 또 부적절할 수 있다.

---

## 나의 생각.

**최적화에는 항상 트레이드 오프가 있다고 생각한다.**

**따라서 부모 컴포넌트에서 리렌더링이 자주 발생하는가와, props가 자주 바뀌지 않는 자식 컴포넌트의 경우 memo를 처리하고자 한다. 또 지나치게 복잡한 계산이 포함되어 있다면 자식 컴포넌트에 memo를 적용할 수 있을 것이다.**

**예를 들면 페이지 내의 목록 리스트에서 자식 컴포넌트에 memo를 처리해서, 하나의 항목을 눌러서 이벤트를 준다고 할 때, 전체 목록들이 다 같이 렌더링되지 않도록 한다.**

이외에도 목록을 렌더링 할 때는 가상 리스트를 사용해보는 것도 좋을 것 같다. 화면에 보이는 부분만 렌더링하는 기술이다.
