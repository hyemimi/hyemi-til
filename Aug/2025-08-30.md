# ğŸ§¾TIL

## ë‚ ì§œ: 2025-08-30 ğŸ£

## ìƒˆë¡œ ë°°ìš´ ë‚´ìš©

# 1. ì—°ê´€ëœ state í†µí•©í•˜ê¸°

í•­ìƒ í•¨ê»˜ ìˆ˜ì •ë˜ëŠ” stateì˜ ê²½ìš° í•˜ë‚˜ì˜ stateë¡œ í†µí•©í•˜ì.

```tsx
const [position, setPosition] = useState({ x: 0, y: 0 });
```

x, y ë”°ë¡œ ë‚˜ëˆ„ëŠ” ê²ƒë³´ë‹¤ positionìœ¼ë¡œ ë‘ì–´ í•˜ë‚˜ì˜ stateë¡œ í†µí•©í•˜ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ë‹¤.

# 2. State ëª¨ìˆœ í”¼í•˜ê¸°

ì˜ˆë¥¼ ë“¤ì–´ `isSent` ì™€ `isSending` ì´ ë‘˜ ë‹¤ trueì¼ ìˆ˜ëŠ” ì—†ë‹¤. ì´ë¥¼ ì˜ ì œì–´í•´ì•¼ í•˜ëŠ”ë° ê·¸ëƒ¥ status ë¼ëŠ” ìƒˆë¡œìš´ stateë¥¼ ë§Œë“¤ì–´ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì§ê´€ì ì´ë‹¤.

# 3. ë¶ˆí•„ìš”í•œ State í”¼í•˜ê¸°

```tsx
import { useState } from "react";

export default function Form() {
  const [firstName, setFirstName] = useState("");
  const [lastName, setLastName] = useState("");

  const fullName = firstName + " " + lastName;

  function handleFirstNameChange(e) {
    setFirstName(e.target.value);
  }

  function handleLastNameChange(e) {
    setLastName(e.target.value);
  }

  return <>// ...</>;
}
```

fullNameì€ stateë¡œ ë‘ì§€ ì•Šê³  firstNameê³¼ lastName stateë¥¼ ì‚¬ìš©í•´ ë Œë”ë§ ì¤‘ì— ê³„ì‚°ë˜ë„ë¡ í•˜ì˜€ë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ setFirstName(e.target.value)ìœ¼ë¡œ stateë¥¼ ë³€ê²½í•˜ë©´ ë¦¬ë Œë”ë§ì´ ì¼ì–´ë‚˜ë©´ì„œ fullNameë„ ë‹¤ì‹œ ë³€ê²½ë  ê²ƒì´ë‹¤.

## ìœ ì˜í•´ì•¼í•  ì 

- propsë¥¼ ë¯¸ëŸ¬ë§ í•˜ì§€ ë§ì

```tsx
function Message({ messageColor }) {
  const [color, setColor] = useState(messageColor);
```

propsë¡œ ë°›ì€ messageColorë¥¼ ì´ˆê¸°ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ê²Œ ë˜ë©´, ì¶”í›„ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ propsê°€ ìˆ˜ì •ë˜ì–´ Message ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ ë  ë•Œ color stateê°€ ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤.

ê·¸ ì´ìœ ëŠ” useState ì´ˆê¸°ê°’ì€ ì´ˆê¸° ë Œë”ë§ì—ì„œë§Œ ì´ˆê¸°í™”ë˜ê¸° ë•Œë¬¸ì´ë‹¤.

```tsx
const color = messageColor;
```

ìœ„ì™€ ê°™ì´ ì„ ì–¸í•˜ì—¬ ë Œë”ë§ ê³¼ì •ì—ì„œ ì´ˆê¸°í™”í•˜ë„ë¡ ë‘ëŠ” ê²ƒì´ ì¢‹ë‹¤.

# 4. ì¤‘ë³µ í”¼í•˜ê¸°

ex) itemsì™€ selectedItemsëŠ” itemsì˜ ì¼ë¶€ë¥¼ ê°–ì§€ë§Œ ì¤‘ë³µëœë‹¤. selectedIds ë“±ê³¼ ê°™ì´ ì„ íƒëœ idë“¤ë¡œë§Œ stateë¥¼ êµ¬ì„±í•œë‹¤.

# 5. ê¹Šê²Œ ì¤‘ì²©ëœ state í”¼í•˜ê¸°

ê¹Šê²Œ ì¤‘ì²©ëœ stateë¥¼ í‰íƒ„í™”í•˜ì.

# ê°™ì€ ìë¦¬ì˜ ì»´í¬ë„ŒíŠ¸ëŠ” stateë¥¼ ê³µìœ í•œë‹¤

```tsx
export default function App() {
  const [isFancy, setIsFancy] = useState(false);
  return (
    <div>
      {isFancy ? <Counter isFancy={true} /> : <Counter isFancy={false} />}
      <label>
        <input
          type="checkbox"
          checked={isFancy}
          onChange={(e) => {
            setIsFancy(e.target.checked);
          }}
        />
        Use fancy styling
      </label>
    </div>
  );
}
```

ì§„ì§œ ëª°ëë‹¤.. <Counter>ëŠ” isFancy stateì— ë”°ë¼ ì„ íƒì  ë Œë”ë§ ë˜ë©° ë Œë” íŠ¸ë¦¬ ìƒìœ¼ë¡œ ê°™ì€ ìœ„ì¹˜ì— ìˆê¸° ë•Œë¬¸ì— stateë¥¼ ê³µìœ í•œë‹¤.

ê·¸ëŸ¬ë‚˜ ì•„ë˜ì™€ ê°™ì´ ë…ë¦½ì ì¸ stateë¥¼ ê°€ì§€ë„ë¡ í•  ìˆ˜ë„ ìˆë‹¤.

1. ë¨¼ì € ì²« ë²ˆì§¸ë¡œ, && ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

```tsx
import { useState } from "react";

export default function Scoreboard() {
  const [isPlayerA, setIsPlayerA] = useState(true);
  return (
    <div>
      {isPlayerA && <Counter person="Taylor" />}
      {!isPlayerA && <Counter person="Sarah" />}
      <button
        onClick={() => {
          setIsPlayerA(!isPlayerA);
        }}
      >
        Next player!
      </button>
    </div>
  );
}
```

&& ì—°ì‚°ìë¡œ ì„ íƒì  ë Œë”ë§ í•œ ê²ƒì€ ê°™ì€ ìœ„ì¹˜ë¼ê³  ë³´ì§€ ì•ŠëŠ”ë‹¤.

1. ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬ë³„í•˜ëŠ” keyë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ

```tsx
export default function Scoreboard() {
  const [isPlayerA, setIsPlayerA] = useState(true);
  return (
    <div>
      {isPlayerA ? (
        <Counter key="Taylor" person="Taylor" />
      ) : (
        <Counter key="Sarah" person="Sarah" />
      )}
      <button
        onClick={() => {
          setIsPlayerA(!isPlayerA);
        }}
      >
        Next player!
      </button>
    </div>
  );
}
```

# reducer ë¡œì§

```tsx
function tasksReducer(tasks, action) {
  switch (action.type) {
    case "added": {
      return [
        ...tasks,
        {
          id: action.id,
          text: action.text,
          done: false,
        },
      ];
    }
    case "changed": {
      return tasks.map((t) => {
        if (t.id === action.task.id) {
          return action.task;
        } else {
          return t;
        }
      });
    }
    case "deleted": {
      return tasks.filter((t) => t.id !== action.id);
    }
    default: {
      throw Error("Unknown action: " + action.type);
    }
  }
}
```

# useReducer ì‚¬ìš©

reducer í•¨ìˆ˜ì™€ ì´ˆê¸° stateë¥¼ ì¸ìë¡œ ë°›ì•„ tasks, dispatch ë°˜í™˜.

reducer í•¨ìˆ˜ëŠ” stateì™€ actionì„ ë°›ì•„ì„œ actionì— ë”°ë¼ ìƒˆë¡œìš´ state return

```tsx
export default function TaskApp() {
  const [tasks, dispatch] = useReducer(tasksReducer, initialTasks);

  function handleAddTask(text) {
    dispatch({
      type: "added",
      id: nextId++,
      text: text,
    });
  }

  function handleChangeTask(task) {
    dispatch({
      type: "changed",
      task: task,
    });
  }

  function handleDeleteTask(taskId) {
    dispatch({
      type: "deleted",
      id: taskId,
    });
  }

  return (
    <>
      <h1>Prague itinerary</h1>
      <AddTask onAddTask={handleAddTask} />
      <TaskList
        tasks={tasks}
        onChangeTask={handleChangeTask}
        onDeleteTask={handleDeleteTask}
      />
    </>
  );
}

function tasksReducer(tasks, action) {
  switch (action.type) {
    case "added": {
      return [
        ...tasks,
        {
          id: action.id,
          text: action.text,
          done: false,
        },
      ];
    }
    case "changed": {
      return tasks.map((t) => {
        if (t.id === action.task.id) {
          return action.task;
        } else {
          return t;
        }
      });
    }
    case "deleted": {
      return tasks.filter((t) => t.id !== action.id);
    }
    default: {
      throw Error("Unknown action: " + action.type);
    }
  }
}

let nextId = 3;
const initialTasks = [
  { id: 0, text: "Visit Kafka Museum", done: true },
  { id: 1, text: "Watch a puppet show", done: false },
  { id: 2, text: "Lennon Wall pic", done: false },
];
```

# ReducerëŠ” ìˆœìˆ˜í•´ì•¼í•œë‹¤.

# Reducer, ì–¸ì œ ì‚¬ìš©í•´ì•¼ í• ê¹Œ?

1. ì—¬ëŸ¬ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ stateë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²½ìš°, `useReducer`ë¥¼ ì‚¬ìš©í•˜ë©´ ì½”ë“œì˜ ì–‘ì„ ì¤„ì´ëŠ” ë° ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì¼ë°˜ì ì¸ ê²½ìš° useStateë¡œ state ì—…ë°ì´íŠ¸ í•˜ëŠ” ê²ƒì´ ê°„ê²°í•˜ë‹¤.
2. ë³µì¡í•œ êµ¬ì¡°ì˜ stateì˜ ê²½ìš° reducerë¥¼ ì‚¬ìš©í•˜ë©´ ë°ì´í„°ì˜ êµ¬ì¡° ë° ì•¡ì…˜ì„ ì •ì˜í•˜ì—¬ ê°€ë…ì„±ì´ ë” ì¢‹ì€ í¸ì´ë‹¤.
3. ë””ë²„ê¹…ê³¼ í…ŒìŠ¤íŒ…ì— ì¢‹ìŒ

## ì˜¤ëŠ˜ì˜ íšŒê³ 

reducerì— ëŒ€í•´ì„œëŠ” ë§ì´ ì‚¬ìš©í•´ë³´ì§€ ì•Šì•˜ì—ˆëŠ”ë°, ì´ ê¸°íšŒì— ì•Œì•„ë³´ì•˜ë‹¤.

ë˜, reactì—ì„œëŠ” ê°™ì€ ìœ„ì¹˜ì˜ ê°™ì€ ì»´í¬ë„ŒíŠ¸ë¼ë¦¬ stateë¥¼ ê³µìœ í•œë‹¤ëŠ” ê±¸ ì „í˜€ ëª°ëë˜ ì‚¬ì‹¤ì´ì—ˆë‹¤.

ì§„ì‘ ê³µì‹ ë¬¸ì„œë¥¼ ì œëŒ€ë¡œ ì½ì—ˆì–´ì•¼ í–ˆëŠ”ë°,, ë„ˆë¬´ ëŒ€ì¶© ì½ì—ˆì—ˆë‚˜ ë°˜ì„±í•˜ê³  ìˆëŠ” ìš”ì¦˜ì´ë‹¤.
