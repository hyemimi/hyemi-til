# 🧾TIL

## 날짜: 2025-05-11 😶

## 새로 배운 내용

# SPA에서 데이터 리패칭이 안되어 발생하던 문제

현재 문제에서 설문이 안되어서 설문 페이지로 이동 → 설문 등록 완료 후 (요청 성공) → 다시 문제 리스트 조회하려고 들어가보니 설문이 안되어있다 다시 이동했음. → 캐싱된 데이터(설문이 안되어 있다)를 그대로 가져와서 발생하는 문제라고 여겨졌음.

현재 이런 쿼리 설정이기 때문에, navigate 되어서는 데이터를 리패칭하지 않는다.

```tsx
    retry: false,
            refetchOnWindowFocus: false,
            refetchOnMount: false,
```

1차적인 해결책으로는 window.location.href = 해서 새로고침하도록 했으며,

2차적인 해결책으로는 설문을 등록하면 쿼리의 캐시를 삭제하도록 해볼 예정이다.
