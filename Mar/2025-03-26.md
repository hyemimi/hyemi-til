# π§ΎTIL
## λ‚ μ§: 2025-03-26 π‚

## μƒλ΅ λ°°μ΄ λ‚΄μ©

## TCP μ—°κ²° μΆ…λ£ κ³Όμ • (4-way handshake)

ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„ : `FIN ν¨ν‚· μ „μ†΅` 

μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ : `ACK ν¨ν‚· μ „μ†΅` 

μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ : `FIN ν¨ν‚· μ „μ†΅` 

ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„ : `ACK ν¨ν‚· μ „μ†΅` 

μ΄ κ³Όμ •μ—μ„ ν΄λΌμ΄μ–ΈνΈκ°€ ACK ν¨ν‚·μ„ μ „μ†΅ν•κ³  μΌμ • μ‹κ°„ λ™μ• `TIME-WAIT` μƒνƒμ— λ¨Έλ¬Έλ‹¤.

## TIME-WAIT μ΄μ 

1. **μ•μ „ν• μΆ…λ£**
    
    ν΄λΌμ΄μ–ΈνΈκ°€ λ§μ§€λ§‰μΌλ΅ ACK ν¨ν‚·μ„ μ „μ†΅ ν–μ§€λ§ λ„λ‹¬ν•μ§€ λ»ν• κ²½μ°, μ„λ²„λ” FIN ν¨ν‚·μ„ μ¬μ „μ†΅ν•  μ μλ‹¤. λ”°λΌμ„ μ΄μ— λ€λΉ„ν•΄μ„ ACK ν¨ν‚·μ„ μ¬μ „μ†΅ν•κΈ° μ„ν•΄, λ€κΈ° μƒνƒμ— λ¨Έλ¬Έλ‹¤. 
    
2. **μ¤‘λ³µ ν¨ν‚· λ°©μ§€**
    
    μ΄μ „ μ—°κ²° μ¤‘ μ§€μ—°λ ν¨ν‚·λ“¤μ΄ μƒλ΅μ΄ μ—°κ²°μ— μν–¥μ„ μ£Όλ” κ²ƒμ„ λ°©μ§€ν•λ‹¤.
    
    λ”°λΌμ„ **MSL(Maximum Segment Lifetime, ν¨ν‚·μ΄ μ‚΄μ•„λ‚¨μ„ μµλ€ μ‹κ°„)λ™μ• κΈ°λ‹¤λ¦°λ‹¤.**


## μ¤λμ νκ³ 

TCP μ—°κ²° κ³Όμ • μ¤‘ 3-way handshakeλ” SYN, SYN-ACK, ACKμ κ³Όμ •μΌλ΅ μ§„ν–‰λλ‹¤λ©΄ (ν΄λΌμ΄μ–ΈνΈ, μ„λ²„, ν΄λΌμ΄μ–ΈνΈ)

4-way handshakeλ” μΆ…λ£ κ³Όμ •μ‹ λ°μƒν•λ©° FIN, ACK, FIN, ACK μμ„λ΅ μ§„ν–‰λλ‹¤. (ν΄λΌμ΄μ–ΈνΈ, μ„λ²„, μ„λ²„, ν΄λΌμ΄μ–ΈνΈ)

μ΄λ• ν΄λΌμ΄μ–ΈνΈλ” ACK ν¨ν‚·μ„ μ „μ†΅ν• μ΄ν›„ TIME-WAIT μƒνƒμ— λ„λ‹¬ν•λ”λ° κ·Έ μ΄μ λ” νΉμ‹ ACK ν¨ν‚·μ΄ μ„λ²„μ— μ „μ†΅λμ§€ μ•μ•„ λ‹¤μ‹ ACK ν¨ν‚·μ„ μ „μ†΅ν•  κ²½μ°λ¥Ό λ€λΉ„ν•κΈ° μ„ν•¨μ΄κ³ 

λ, μ§€μ—°λ ν¨ν‚·μ΄ μƒλ΅μ΄ μ—°κ²°μ— μν–¥μ„ μ£Όλ” κ²ƒμ„ λ§‰κΈ° μ„ν•¨μ΄λ‹¤. μ΄λ• μ‚¬μ©λ ν¬νΈλ” μ™„μ „ν μΆ…λ£λ  λ•κΉμ§€ μ‚¬μ©ν•  μ μ—†λ‹¤.

μ¤λμ€ 4-way handshakeμ— λ€ν•΄ λ°°μ› λ‹¤.

3-way handshakeλ” μ•κ³  μμ—μ§€λ§ μΆ…λ£ κ³Όμ •μ— λ€ν•΄μ„λ” μ μ•μ§€ λ»ν–λ”λ° μ΄ κΈ°νμ— μ •λ¦¬ν•κ² λμ–΄ λ‹¤ν–‰μ΄λ‹¤.

κ·Έλ¦¬κ³  !! μ¤λμ€ λ‚΄ μƒμΌμ΄λ‹¤ π‚π‰ (μ‚¬μ‹¤ λ…ΈλλΌ κ°λ° λ§μ΄λ” λ»ν–λ‹¤.)

λ§μ€ μΉκµ¬λ“¤μ΄ μ¶•ν•ν•΄μ¤μ„ λ„λ¬΄ κΈ°λ¶„μ΄ μΆ‹μ•κ³ , λ‚λ„ λ” μν•΄μ•Όκ² λ‹¤λ” μƒκ°μ΄ λ“¤μ—λ‹¤.

λ κ³ λ“±ν•™κµλ• λ‚λ¥Ό λ§μ΄ μ±™κ²¨μ¤¬λ μΉκµ¬μ—κ² μƒμΌ μ¶•ν• μ—°λ½μ΄ μ™”λ‹¤.

λ„λ¬΄λ‚λ„ κΈ°λ¶„μ΄ μΆ‹μ•κ³ , κ°λ™μ μ΄μ—λ‹¤π­ λ‚λ„ λ„κµ°κ°€μ—κ² λ‹¤κ°€κ° μ¤„ μ•„λ” μ‚¬λμ΄ λμ–΄μ•Όμ§€..


