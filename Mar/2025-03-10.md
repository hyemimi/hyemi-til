# 🧾TIL
## 날짜: 2025-03-10 💐

## 새로 배운 내용
## 빈

빈은 스프링 프레임워크에서 관리하는 객체.

어노테이션(@Component,  @Service 등)으로 선언, XML 설정, java Config 등으로 선언

## 스코프

### *`Singleton (기본 스코프)`

- **어플리케이션 전체에서 단 하나의 객체 인스턴스 만을 유지**
- 일반적인 스코프, 기본 스코프
- 스프링 컨테이너가 구동될 때 한 번만 생성하고, 이후에는 동일한 객체를 반환한다.
- 비유) 하나의 냄비에 먹는 것

### `Prototype`

- **빈을 요청할 때마다 새로운 객체 인스턴스 생성**
- 상태를 가지는 객체를 매번 새롭게 필요로 하는 경우에 사용
- 소멸 시점 관리는 사용자가 직접 담당해야 함. GC 대상에 포함은 됨.
- 비유) 개개인 별로 사용하는 국그릇, 컵

### `Request`

- HTTP 요청 당 하나의 빈 인스턴스가 생성되고, 요청이 끝나면 소멸
- 주로 Spring MVC의 요청 처리 과정에서 사용
- 프록시 사용이 필요!

### `Session`

- HTTP 세션 당 하나의 빈 인스턴스 유지

### `GlobalSession`

- 포털처럼 전역 세션 범위를 가지는 환경에서 사용되는 스코프

---

## 빈의 생명 주기

1. Bean 생성
    - 스프링 컨테이너가 빈 정의 확인하고 생성
2. 의존성 주입
    - 필요한 다른 빈을 주입 받음 (@Autowired, 생성자 주입, 세터 주입)
3. 초기화 단계
    - 어노테이션이나.. 초기화 메서드나 … 필요한 초기화 로직 수행
        - initializingBean 인터페이스로 초기화 단계 구현 (과거에 많이 사용)
        - BeanPostProcessor
4. 사용
    - 빈 활용
    - 프로토타입 스코프 빈은 획득 시마다 새 인스턴스로 사용됨.
5. 소멸
    - @PreDestroy (많이 씀) : 소멸 직전에 필요한 정리 작업 수행
    - DisposableBean 인터페이스로 구현 가능
    - 프로토타입 스코프 빈의 경우 컨테이너가 소멸 과정 관리 x , 사용자가 직접.

**→ 빈의 스코프에 따라 생명주기가 달라진다.**

## IoC (Inversion of Control) 제어의 역전

**객체에 대한 제어 권한이 기존의 개발자에서 스프링 IoC 컨테이너로 역전**되는 디자인 원리 혹은 개념

구체적으로 실현하는 방법 → DI (의존성 주입)

### 사용이유

- 객체 결합도 감소
- 모듈화 및 재사용성 증대
- 테스트 용이성 향상

## DI

의존 객체를 직접 생성하지 않고 외부에서 주입 받는 원리 혹은 기법

비유) 재료만 도구를 가지고 행위에만 집중! 카페에서 머신들이 다 배치되어있고, 나는 일만 한다.

IoC 컨테이너를 구현하는 핵심 전략, 방법론.

### 특징

- 의존 객체를 외부에서 주입
- 객체 간 결합도 감소
- 인터페이스 기반 설계 장려
    - 인터페이스는 객체 간의 약속 역할을 한다.
- 테스트/재사용성 향상
    - Mock 객체(가짜 객체) 등으로 쉽게 교체할 수 있어 테스트가 편리하고, 재사용성이 높아진다.

### 사용 이유

## DI 구현 방식

### 1) `생성자 주입`

- 가장 권장되는 방식
- **필수 의존성을 객체 생성 시점에 모두 주입 받음. 안정적인 객체 생성** 보장
- 테스트 및 유지보수에 유리

### 2) `Setter 주입`

- 선택적인 의존 관계가 필요한 경우 사용
- 객체 생성 시점이랑, 의존성 주입 시점이 분리됨
- 객체 생성 후 **Setter 메서드를 통해 의존 객체를 주입** 받음 → 안전하지 않을 수 있음.

### 3) `필드 주입`

- @Autowired 등을 붙여서 의존 객체를 주입 받는 방식
- 추적하기 힘듦
- 순환 참조 문제 발생 가능성

### 오늘의 회고
저번주에 이어 이론으로는 스프링의 개요를 배우고 있다.

오늘은 스프링부트 프로젝트를 셋팅하였다. java 17 버전과 스프링부트 3.4.3으로 https://start.spring.io/ 에서 프로젝트 파일을 다운로드 받았다.

마치 react에서 cra를 사용해서 프로젝트 전체 셋팅을 하듯.. 요렇게 셋팅하는 방식도 마찬가지인 것 같다.

테스트 폴더도 잘 구성되어 있었고, 의존성으로 웹 어플리케이션으로 사용하기 위한 설정이 되어 있는 Spring Web, 템플릿 엔진인 Thymeleaf를 선택했다. (아직 무지하기에 강의를 보고 무작정 따라해보았다..)

이제 본격적으로 자프링 찍먹이 시작되었다.

공부할 내용이 많아 보여서 겁이 나긴 하지만 백엔드 개발 프로세스를 이해하고 직접 API를 만들어 보는 것이 불과 몇 개월전 목표였기 때문에 매우 신이 나기도 한다😎😎

또, 커뮤니티 서비스의 프론트엔드 단에서는 조금씩 코드를 리팩토링하고 수정하는 작업이 시작되었다.

무려 내가 혼자서 개발하는 !! 백엔드에서 API를 넘겨줄 수 있게 된다면 다시 돌아와 연결할 생각이다.

왜 신이 나지 ..

### 참고 자료 및 링크
