# ğŸ§¾TIL
## ë‚ ì§œ: 2025-03-15 ğŸ¥

## ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ í’€ì´ (í•˜ë…¸ì´ íƒ‘ ë¬¸ì œ ë³µìŠµ)

n = int(input()) # ì›ë°˜ì˜ ê°¯ìˆ˜
moves = []

def hanoi(n,start,end,via):

    if n == 1:
        moves.append((start,end))
        return

    hanoi(n-1,start,via,end)
    moves.append((start,end))
    hanoi(n-1,via,end,start)

print(2**n - 1)
if n <= 20 :
    hanoi(n,1,3,2)
    cnt = len(moves)
    

    for i in range(cnt):
        print(moves[i][0], moves[i][1])

## ì˜¤ëŠ˜ì˜ íšŒê³ 
ì‹œê°„ë³µì¡ë„ëŠ” O(2^n)

ë¬¸ì œ ì¡°ê±´ì„ ë˜ ì˜ëª» ì½ì–´ì„œ ... nì´ ë¬´ìˆ˜íˆ ì»¤ì§ˆ ë•Œ ëª¨ë“  ê²½ìš°ë¥¼ ì¶œë ¥í•˜ë‹¤ë³´ë‹ˆ "ì¶œë ¥ ì´ˆê³¼"ì—ëŸ¬ê°€ ë‚¬ë‹¤.

ë¬´ì—‡ì´ ë¬¸ì œì¼ê¹Œ ìƒê°í•˜ë‹¤ê°€ n <= 20 ì¼ ê²½ìš°ì—ë§Œ ì´ë™ì„ ì¶œë ¥í•˜ë¼ëŠ” ë¬¸ì œ ì¡°ê±´ì„ ëª» ì½ì—ˆë‹¤. ğŸ˜¥ğŸ˜¥




