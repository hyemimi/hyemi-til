# ğŸ§¾TIL
## ë‚ ì§œ: 2025-03-20 ğŸ¤º

- ëª©í‘œ 1 : `ë°±ì—”ë“œ` ìŠ¤ì›¨ê±° ì„¤ì •
- ëª©í‘œ 2 : `ë°±ì—”ë“œ` ìœ ì € ë¡œê·¸ì¸
- ëª©í‘œ 3 : `ë°±ì—”ë“œ` ì¢‹ì•„ìš” ë“±ë¡/ì‚­ì œ
- ëª©í‘œ 4 : `ë°±ì—”ë“œ` ìœ ì € ì‚­ì œ(ì†Œí”„íŠ¸ ë”œë¦¬íŠ¸)
- ëª©í‘œ 5 : `ë°±ì—”ë“œ` ê²Œì‹œê¸€, ëŒ“ê¸€ ìˆ˜ì •ì¼ ì—…ë°ì´íŠ¸ (timestamp)
- ëª©í‘œ 6 : `í”„ë¡ íŠ¸ì—”ë“œ` ë¡œê·¸ì¸ api ì—°ë™

## ìŠ¤ì›¨ê±° ì„¤ì •

> Swaggerë€?
> 
- API ë¬¸ì„œë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ëŠ” ë„êµ¬ (ex. http://localhost:8080/swagger-ui.html)
- REST APIì˜ ì—”ë“œí¬ì¸íŠ¸, ìš”ì²­/ì‘ë‹µ ëª¨ë¸, ìƒíƒœ ì½”ë“œ ë“±ì„ ì‹œê°ì ìœ¼ë¡œ ì œê³µ
- Spring bootì—ì„œëŠ” springdoc-openapi ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©

> ê¸°ë³¸ ì‚¬ìš©ë²•
> 
1. build. gradleì— dependency ì¶”ê°€

```java
implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.4.0â€™
```

1. controllerì— ì•„ë˜ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ anotation ì¶”ê°€

```java
/** ëŒ“ê¸€ ì‘ì„± */
    @Operation(summary = "ëŒ“ê¸€ ì‘ì„±", description = "post_idë¥¼ path variableë¡œ ì…ë ¥ ë°›ì•„ ëŒ“ê¸€ì„ ì‘ì„±í•©ë‹ˆë‹¤. ì •ìƒ ì‘ì„±ì‹œ 204ì½”ë“œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ")
    @ApiResponses({
            @ApiResponse(responseCode = "204", description = "ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë¨ (No Content)")
    })
    @PostMapping("/{post_id}/comment")
    public ResponseEntity<Void> uploadComment (@RequestBody @Valid CommentRequestDto.uploadComment commentDetails) {
        commentService.uploadComment(commentDetails);

        return ResponseEntity.noContent().build();
}
```

ì‚¬ìš©í•œ annotation

- `@Operation` : â€œì»¨íŠ¸ë¡¤ëŸ¬â€ ì„¤ëª…. summary : ì œëª©  / description : ìƒì„¸ ëª…
- `@ApiResponse` : ìƒíƒœ ì½”ë“œ ì„¤ëª…

### (12) ê²Œì‹œê¸€, ëŒ“ê¸€ ìˆ˜ì •ì¼ updated_at ê°±ì‹ í•˜ê¸°

`@Preupdate` 

```java
// post, comment entity   
   
   @PreUpdate
    public void preUpdate() {
        this.updated_at = LocalDateTime.now();
    }
```

- ì—”í‹°í‹°ê°€ ìˆ˜ì •ë  ë•Œë§ˆë‹¤ ì‹¤í–‰í•œë‹¤.

## ì˜¤ëŠ˜ì˜ íšŒê³ 
ì˜¤ëŠ˜ì€ ë°±ì—”ë“œ ê°œë°œì„ ê±°ì˜ ëë§ˆì³¤ë‹¤.

postmanìœ¼ë¡œ í™•ì¸í•˜ë‹¤ê°€ ì²˜ìŒìœ¼ë¡œ swaggerë¥¼ ì„¤ì¹˜í•´ì„œ ì‚¬ìš©í•´ë´¤ëŠ”ë° ë§ì´ í¸ë¦¬í•œ ê²ƒ ê°™ë‹¤.

JPAê°€ ì´ë ‡ê²Œ í¸í•  ì¤„ ëª°ëëŠ”ë° ê·¸ë˜ì„œ ê·¸ëŸ°ì§€ ë­”ê°€ ì£„ì±…ê°ì´ ë“ ë‹¤. .

ì‚¬ì‹¤ìƒ ê¸°íšë§Œ ì˜ í•˜ë©´ ì´ë ‡ê²Œ í¸í•˜ê²Œ APIë¥¼ ì§¤ ìˆ˜ ìˆë‹¤ë‹ˆ .. ë†€ë¼ì› ë‹¤.

ì´ì œ í”„ë¡ íŠ¸ì—”ë“œ ì»¤ë®¤ë‹ˆí‹° ì„œë¹„ìŠ¤ì™€ í†µì‹ í•  ì¼ë§Œ ë‚¨ì•˜ë‹¤.

ë¡œê·¸ì¸, íšŒì›ê°€ì…ì€ JWT ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•˜ê³  ì‹¶ì—ˆìœ¼ë‚˜ í•´ì‰¬ëœ ë¹„ë°€ë²ˆí˜¸ë¥¼ ëŒ€ì¡°í•˜ëŠ” ì„ ê¹Œì§€ë¡œ ë§ˆë¬´ë¦¬í•˜ê³  ì‹œê°„ì´ ëœë‹¤ë©´ ì¶”í›„ ë„ì…í•´ë³¼ ê³„íšì´ë‹¤.

í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìë¡œì„œ ë°±ì—”ë“œ ë„ë©”ì¸ì„ ì´í•´í–ˆìœ¼ë‹ˆ 2025ë…„ ëª©í‘œ ì¤‘ í•˜ë‚˜ë¥¼ ì´ë¤˜ë‹¤. ë¿Œë“¯..^_^ ğŸ˜µâ€ğŸ’«