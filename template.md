# 🧾TIL

## 날짜: 2025-06-04 🐣

## 새로 배운 내용

[참고 자료]

https://www.youtube.com/watch?v=upUON56UEYo

---

## 최적화

성능 최적화 하면 좋을 것 같은데? 싶으면 하지마라

이제 진짜 해야 한다 → 프로파일링부터 하고 시작하자

## 최악의 상황

최악의 상황을 기준으로 생각해야 함

## 모든 것에는 트레이드 오프가 있다

최적화도 트레이드 오프가 굉장히 크게 작용한다.

## 1. 초기 로딩 속도 최적화

### 이유

- 대역폭
  - `트럭의 숫자`
  - 자바스크립트 번들 `쌀`
- 지연시간
- 자바스크립트 실행 시간

### 방법

- 프리패칭
- 캐싱 ( 내 손 앞에 바로 두는 것 )
- 쪼개서 컴포넌트 가져오고, 제일 먼저 로드되어야 할 것들을 가져오기
  - 근데 이러한 기준이 중요 !! 잘 쪼개야 합니다.

## 2. 런타임 성능 최적화

: 초기 로딩이 아니라, 다 로딩된 후 이후에 빠릿함이 느껴지도록 (디자인 편집기의 경우)

### (1) 중요한 것: 어떻게 런타임 성능을 어떻게 측정할 것인가?

- FPS : 초당 프레임이 잘 나오는가
  - 크롬의 개발자 도구에 내장된 미터기 존재 (조금 더 후한 편)
  - 드래그 앤 드롭 중 60fps가 되는지 확인함.
  - 또 다른 측정 도구 - 프로파일러 (노란 막대)
- 상태가 변화했을 때 얼마나 많은 렌더링이 일어나는가?

### (2) React 리렌더링 최적화

### 상황

- 불필요한 상태 업데이트가 일어나는 경우

### 방법

- `useMemo`
- 컴포넌트에 `memo` 를 씌우기
  - 페이지 전체가 다 리렌더링 될 필요 x, 특정 영역만 업데이트 되면 됨. 유저가 실제로 변경이 되어야 하는 부분만 리렌더링 되도록 함.

## 오늘의 회고

오늘은 토스 모닥불 시리즈의 React에서 최적화 하는 방법에 대한 팁에 대해서 들었다.

영상의 앞부분에서 최적화를 해볼까? 하면 하지마. 라고 말씀해주셨던 부분이 인상 깊었다 ..

react-query를 사용해 캐싱을 적용했었는데 자칫하면 사용자를 불편하게 만들 수도 있을 것 같다는 생각이 들었다.

막연히 해보고 싶은 마음이 들어서 하려고 했던 건데, 트레이드 오프가 있으니 다시 한 번 고려해보는 것도 나쁘지 않을 것 같다.

초기 로딩 속도 같은 경우 가장 좋지 않은 환경을 가정하고 프로파일링 하며,

런타임 성능을 측정하는 방법으로 FPS를 측정할 수 있다는 것과, memo를 사용해 캐싱 하는 것이 효과적임을 알게 되었다.

필요하지 않은 부분까지의 리렌더링을 줄이는 것에 대해 조금 더 고민해보고 적용해보아야겠다.
